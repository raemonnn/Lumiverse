<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-database-compat.js"></script>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | Lumiverse</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
</head>
<body class="dashboard">
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="sidebar-header">
            <img src="assets/lumiverse.jpg" alt="Lumiverse" height="30">
            <span>Lumiverse</span>
        </div>
        <div class="sidebar-menu">
            <ul>
                <li class="active"><a href="#dashboard"><i class="bi bi-house-door"></i> Dashboard</a></li>
                <li><a href="#devices"><i class="bi bi-lightbulb"></i> Devices</a></li>
                <li><a href="#members"><i class="bi bi-people"></i> Family Members</a></li>
                <!-- Add missing sections -->
                <li><a href="#security"><i class="bi bi-shield-lock"></i> Security</a></li>
                <li><a href="#settings"><i class="bi bi-gear"></i> Settings</a></li>
                <li><a href="#logs"><i class="bi bi-clock-history"></i> Activity Logs</a></li>
            </ul>
        </div>
        <div class="sidebar-footer">
            <div class="user-profile">
                <!-- Change from assets/user-avatar.jpg to CDN default -->
                <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="User" class="avatar" id="userAvatar">
                <div class="user-info">
                    <span class="user-name" id="userNameDisplay">Loading...</span>
                    <span class="user-role" id="userRoleDisplay">Loading...</span>
                </div>
            </div>
            <a href="#" id="logoutBtn"><i class="bi bi-box-arrow-right"></i> Logout</a>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Top Navigation -->
        <nav class="top-nav">
            <div class="nav-left">
                <button class="sidebar-toggle"><i class="bi bi-list"></i></button>
                <h4>Dashboard</h4>
            </div>
            <div class="nav-right">
                <div class="notifications">
                    <button class="notification-btn" id="notificationBell">
                        <i class="bi bi-bell"></i> 
                        <span class="badge bg-danger" id="unreadCount">0</span>
                    </button>
                    <div class="notification-dropdown">
                        <div class="notification-header">
                            <h6>Recent Activities</h6>
                        </div>
                        <div class="notification-list" id="notificationList">
                            <!-- Notifications will be loaded here -->
                        </div>
                    </div>   
                </div>
            </div>
        </nav>
        

        <!-- Dashboard Content -->
<div class="content-container">
    <!-- Main Dashboard Section (default view) -->
    <div id="dashboard" class="content-section">
        <!-- Status Cards -->
        <div class="row status-cards">
            <div class="col-md-3">
                <div class="card status-card online">
                    <div class="card-body">
                        <div class="status-icon"><i class="bi bi-house-check"></i></div>
                        <h5>Home Status</h5>
                        <p>All systems operational</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card status-card warning">
                    <div class="card-body">
                        <div class="status-icon"><i class="bi bi-shield-exclamation"></i></div>
                        <h5>Security</h5>
                        <p>2 alerts today</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card status-card">
                    <div class="card-body">
                        <div class="status-icon"><i class="bi bi-people"></i></div>
                        <h5>Family Members</h5>
                        <p id="familyMembersCount">Loading...</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card status-card">
                    <div class="card-body">
                        <div class="status-icon"><i class="bi bi-plug"></i></div>
                        <h5>Connected Devices</h5>
                        <p id="connectedDevicesCount">Loading...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Controls -->
        <div class="row quick-controls">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">
                        <h5>Quick Controls</h5>
                        <div class="controls-mode">
                            <span>Manual</span>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="autoModeSwitch">
                                <label class="form-check-label" for="autoModeSwitch">Auto</label>
                            </div>
                        </div>
                        <!-- Add Security Navigation Button -->
                    <a href="#security" class="btn btn-sm btn-outline-primary ms-3">
                        <i class="bi bi-shield-lock"></i> Security Settings
                    </a>
                </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-2 col-4">
                                <div class="control-item">
                                    <div class="control-icon"><i class="bi bi-lightbulb"></i></div>
                                    <h6>Lights</h6>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="lightsSwitch">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2 col-4">
                                <div class="control-item">
                                    <div class="control-icon"><i class="bi bi-door-closed"></i></div>
                                    <h6>Main Door</h6>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="doorSwitch">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2 col-4">
                                <div class="control-item">
                                    <div class="control-icon"><i class="bi bi-thermometer-snow"></i></div>
                                    <h6>AC</h6>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="acSwitch">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2 col-4">
                                <div class="control-item">
                                    <div class="control-icon"><i class="bi bi-tv"></i></div>
                                    <h6>TV</h6>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="tvSwitch">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2 col-4">
                                <div class="control-item">
                                    <div class="control-icon"><i class="bi bi-camera-video"></i></div>
                                    <h6>Cameras</h6>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="camerasSwitch">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2 col-4">
                                <div class="control-item">
                                    <div class="control-icon"><i class="bi bi-alarm"></i></div>
                                    <h6>Alarm</h6>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="alarmSwitch">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
       

        <!-- Family Members Section -->
        <div class="row family-members">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h5>Family Members</h5>
                        <div>
                            <button class="btn btn-sm btn-primary me-2" data-bs-toggle="modal" data-bs-target="#addMemberModal">
                                <i class="bi bi-plus"></i> Add Member
                            </button>
                            <a href="#members" class="btn btn-sm btn-outline-primary view-all-btn" id="viewAllMembersBtn">
                                <i class="bi bi-people"></i> View All
                            </a>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Role</th>
                                        <th>Email</th>
                                        <th>Access Controls</th>
                                        <th>Last Active</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="dashboardFamilyMembersTableBody">
                                    <!-- Only 3 family members will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

        <!-- Recent Activity -->
        <div class="row recent-activity">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">
                        <h5>Recent Activity</h5>
                    </div>
                    <div class="card-body">
                        <div class="activity-timeline" id="activityTimeline">
                            <!-- Activities will be loaded dynamically -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Devices Section -->
    <div id="devices" class="content-section" style="display: none;">
        <!-- Devices content will go here -->
        <div class="card">
            <div class="card-header">
                <h5>Devices Management</h5>
            </div>
            <div class="card-body">
                <p>Your devices management content will appear here</p>
            </div>
        </div>
    </div>

    <div id="members" class="content-section" style="display: none;">
    <div class="card">
        <div class="card-header d-flex justify-content-between align-items-center">
            <h5>All Family Members</h5>
            <button class="btn btn-sm btn-danger" id="removeAllAccessBtn">
                <i class="bi bi-shield-lock"></i> Remove All Access (Except Head)
            </button>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Role</th>
                            <th>Email</th>
                            <th>Access Controls</th>
                            <th>Last Active</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="fullFamilyMembersTableBody">
                        <!-- All family members will be loaded here -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

    <!-- Security Section -->
    <div id="security" class="content-section" style="display: none;">
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h5><i class="bi bi-shield-lock me-2"></i>Security & Appliance Controls</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <!-- Alarm System -->
                    <div class="col-md-6 mb-4">
                        <div class="card h-100">
                            <div class="card-header bg-danger text-white">
                                <h6><i class="bi bi-alarm me-2"></i>Alarm System</h6>
                            </div>
                            <div class="card-body">
                                <div class="form-check form-switch mb-3">
                                    <input class="form-check-input" type="checkbox" id="alarmSystemSwitch">
                                    <label class="form-check-label" for="alarmSystemSwitch">Enable Alarm System</label>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Alarm Sensitivity</label>
                                    <input type="range" class="form-range" id="alarmSensitivity" min="1" max="10" value="5">
                                </div>
                                <button class="btn btn-sm btn-outline-danger" id="testAlarmBtn">
                                    <i class="bi bi-megaphone"></i> Test Alarm
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Camera Monitoring -->
                    <div class="col-md-6 mb-4">
                        <div class="card h-100">
                            <div class="card-header bg-info text-white">
                                <h6><i class="bi bi-camera-video me-2"></i>Camera Monitoring</h6>
                            </div>
                            <div class="card-body">
                                <div class="form-check form-switch mb-3">
                                    <input class="form-check-input" type="checkbox" id="cameraMonitoringSwitch">
                                    <label class="form-check-label" for="cameraMonitoringSwitch">Enable Camera Monitoring</label>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Motion Detection</label>
                                    <select class="form-select" id="motionDetectionLevel">
                                        <option value="low">Low Sensitivity</option>
                                        <option value="medium" selected>Medium Sensitivity</option>
                                        <option value="high">High Sensitivity</option>
                                    </select>
                                </div>
                                <button class="btn btn-sm btn-outline-info" id="viewCamerasBtn">
                                    <i class="bi bi-eye"></i> View Live Feed
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Appliance Management -->
                <div class="card mt-4">
                    <div class="card-header bg-success text-white">
                        <h6><i class="bi bi-lightning-charge me-2"></i>Appliance Management</h6>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="card mb-4">
                                    <div class="card-header">
                                        <h6>Add New Appliance</h6>
                                    </div>
                                    <div class="card-body">
                                        <form id="addApplianceForm">
                                            <div class="mb-3">
                                                <label class="form-label">Appliance Name</label>
                                                <input type="text" class="form-control" id="applianceName" required>
                                            </div>
                                            <div class="mb-3">
                                                <label class="form-label">Location</label>
                                                <select class="form-select" id="applianceLocation" required>
                                                    <option value="">Select location</option>
                                                    <option value="living-room">Living Room</option>
                                                    <option value="bedroom">Bedroom</option>
                                                    <option value="kitchen">Kitchen</option>
                                                    <option value="bathroom">Bathroom</option>
                                                    <option value="garage">Garage</option>
                                                    <option value="garden">Garden</option>
                                                </select>
                                            </div>
                                            <div class="mb-3">
                                                <label class="form-label">Appliance Type</label>
                                                <select class="form-select" id="applianceType" required>
                                                    <option value="">Select type</option>
                                                    <option value="light">Light</option>
                                                    <option value="fan">Fan</option>
                                                    <option value="tv">TV</option>
                                                    <option value="ac">AC</option>
                                                    <option value="other">Other</option>
                                                </select>
                                            </div>
                                            <button type="submit" class="btn btn-primary">
                                                <i class="bi bi-plus-circle"></i> Add Appliance
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <div class="card">
                                    <div class="card-header">
                                        <h6>Existing Appliances</h6>
                                    </div>
                                    <div class="card-body">
                                        <div class="table-responsive">
                                            <table class="table" id="appliancesTable">
                                                <thead>
                                                    <tr>
                                                        <th>Appliance</th>
                                                        <th>Location</th>
                                                        <th>Type</th>
                                                        <th>Status</th>
                                                        <th>Actions</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="appliancesTableBody">
                                                    <!-- Appliances will be loaded here -->
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Security Logs -->
                <div class="card mt-4">
                    <div class="card-header bg-warning text-dark">
                        <h6><i class="bi bi-clock-history me-2"></i>Security Logs</h6>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Event</th>
                                        <th>Time</th>
                                        <th>Location</th>
                                        <th>Details</th>
                                    </tr>
                                </thead>
                                <tbody id="securityLogsTable">
                                    <!-- Security logs will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Settings Section -->
<div id="settings" class="content-section" style="display: none;">
    <div class="card">
        <div class="card-header bg-primary text-white">
            <h5><i class="bi bi-person-gear me-2"></i>Family Head Settings</h5>
        </div>
        <div class="card-body">
            <div class="row">
                <!-- Profile Settings -->
                <div class="col-md-6">
                    <div class="card mb-4">
                        <div class="card-header">
                            <h6><i class="bi bi-person-circle me-2"></i>Profile Information</h6>
                        </div>
                        <div class="card-body">
                            <form id="profileForm" onsubmit="event.preventDefault(); saveProfile();">
                                <div class="mb-3">
                                    <label class="form-label">Full Name</label>
                                    <input type="text" class="form-control" id="headName">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Email Address</label>
                                    <input type="email" class="form-control" id="headEmail">
                                    <small class="text-muted">Leave unchanged unless you want to update email. Changing email requires verification</small>
                                </div>
                                <button type="submit" class="btn btn-primary" id="saveProfileBtn">
                                    Save Changes
                                </button>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Avatar Selection -->
                <div class="col-md-6">
                    <div class="card mb-4">
                        <div class="card-header">
                            <h6><i class="bi bi-emoji-smile me-2"></i>Choose Your Avatar</h6>
                        </div>
                        <div class="card-body">
                            <div class="avatar-selection">
                                <div class="row g-3">
                                    <div class="col-4 col-md-3">
                                        <div class="avatar-option selected" data-avatar="avatar1">
                                            <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" class="img-fluid rounded-circle" alt="Avatar 1">
                                        </div>
                                    </div>
                                    <div class="col-4 col-md-3">
                                        <div class="avatar-option" data-avatar="avatar2">
                                            <img src="https://cdn-icons-png.flaticon.com/512/4140/4140048.png" class="img-fluid rounded-circle" alt="Avatar 2">
                                        </div>
                                    </div>
                                    <div class="col-4 col-md-3">
                                        <div class="avatar-option" data-avatar="avatar3">
                                            <img src="https://cdn-icons-png.flaticon.com/512/4333/4333609.png" class="img-fluid rounded-circle" alt="Avatar 3">
                                        </div>
                                    </div>
                                    <div class="col-4 col-md-3">
                                        <div class="avatar-option" data-avatar="avatar4">
                                            <img src="https://cdn-icons-png.flaticon.com/512/921/921071.png" class="img-fluid rounded-circle" alt="Avatar 4">
                                        </div>
                                    </div>
                                    <div class="col-4 col-md-3">
                                        <div class="avatar-option" data-avatar="avatar5">
                                            <img src="https://cdn-icons-png.flaticon.com/512/4202/4202839.png" class="img-fluid rounded-circle" alt="Avatar 5">
                                        </div>
                                    </div>
                                    <div class="col-4 col-md-3">
                                        <div class="avatar-option" data-avatar="avatar6">
                                            <img src="https://cdn-icons-png.flaticon.com/512/706/706830.png" class="img-fluid rounded-circle" alt="Avatar 6">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-primary mt-3" id="saveAvatarBtn">
                                <i class="bi bi-check-circle me-1"></i> Save Avatar
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Emergency Contacts -->
                <div class="col-12">
                    <div class="card">
                        <div class="card-header">
                            <h6><i class="bi bi-telephone me-2"></i>Emergency Contacts</h6>
                        </div>
                        <div class="card-body">
                            <div class="alert alert-info">
                                <i class="bi bi-info-circle me-2"></i> These contacts will be used in case of emergencies
                            </div>
                            <button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#emergencyContactsModal">
                                <i class="bi bi-pencil me-1"></i> Edit Emergency Contacts
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

    <!-- Activity Logs Section -->
    <div id="logs" class="content-section" style="display: none;">
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h5><i class="bi bi-clock-history me-2"></i>Activity Logs</h5>
                <button class="btn btn-sm btn-danger" id="clearAllLogsBtn">
                    <i class="bi bi-trash"></i> Clear All Logs
                </button>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Activity</th>
                                <th>Device/System</th>
                                <th>User</th>
                                <th>Time</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="activityLogsTableBody">
                            <!-- Activity logs will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

    <!-- Add Member Modal -->
    <div class="modal fade" id="addMemberModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add Family Member</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="addMemberForm">
                        <div class="mb-3">
                            <label class="form-label">Member Icon</label>
                                <div class="icon-selection">
                                    <div class="icon-options" id="iconOptions">
                                        <!-- Icons will be populated by JavaScript -->
                                    </div>
                                </div>
                            <label for="memberName" class="form-label">Full Name</label>
                            <input type="text" class="form-control" id="memberName" required>
                        </div>
                        <div class="mb-3">
                            <label for="memberEmail" class="form-label">Email Address</label>
                            <input type="email" class="form-control" id="memberEmail" required>
                        </div>
                        <div class="mb-3">
                            <label for="memberRole" class="form-label">Role</label>
                            <select class="form-select" id="memberRole" required>
                                <option value="" selected disabled>Select role</option>
                                <option value="head">Head of Family</option>
                                <option value="wife">Wife</option>
                                <option value="husband">Husband</option>
                                <option value="son">Son</option>
                                <option value="daughter">Daughter</option>
                                <option value="helper">House Helper</option>
                                <option value="guest">Guest</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Access Permissions</label>
                            <div class="access-permissions">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="accessLights">
                                    <label class="form-check-label" for="accessLights">Lights Control</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="accessDoors">
                                    <label class="form-check-label" for="accessDoors">Doors Control</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="accessAC">
                                    <label class="form-check-label" for="accessAC">AC Control</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="accessTV">
                                    <label class="form-check-label" for="accessTV">TV Control</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="accessSecurity">
                                    <label class="form-check-label" for="accessSecurity">Security Settings</label>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="saveMemberBtn">Add Member</button>
                </div>
            </div>
        </div>
    </div>

    

    <!-- Edit Member Modal -->
    <div class="modal fade" id="editMemberModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Edit Family Member</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="editMemberForm">
                        <div class="mb-3">
                            <label for="editMemberName" class="form-label">Full Name</label>
                            <input type="text" class="form-control" id="editMemberName" required>
                        </div>
                        <div class="mb-3">
                            <label for="editMemberEmail" class="form-label">Email Address</label>
                            <input type="email" class="form-control" id="editMemberEmail" required>
                        </div>
                        <div class="mb-3">
                            <label for="editMemberRole" class="form-label">Role</label>
                            <select class="form-select" id="editMemberRole" required>
                                <option value="head">Head of Family</option>
                                <option value="wife">Wife</option>
                                <option value="husband">Husband</option>
                                <option value="son">Son</option>
                                <option value="daughter">Daughter</option>
                                <option value="helper">House Helper</option>
                                <option value="guest">Guest</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Access Permissions</label>
                            <div class="access-permissions">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="editAccessLights">
                                    <label class="form-check-label" for="editAccessLights">Lights Control</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="editAccessDoors">
                                    <label class="form-check-label" for="editAccessDoors">Doors Control</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="editAccessAC">
                                    <label class="form-check-label" for="editAccessAC">AC Control</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="editAccessTV">
                                    <label class="form-check-label" for="editAccessTV">TV Control</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="editAccessSecurity">
                                    <label class="form-check-label" for="editAccessSecurity">Security Settings</label>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="saveEditBtn">Save Changes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Emergency Contacts Modal -->
    <div class="modal fade" id="emergencyContactsModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Emergency Contacts</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="emergencyContactsForm">
                        <div class="mb-3">
                            <label for="policeNumber" class="form-label">Police Department</label>
                            <input type="tel" class="form-control" id="policeNumber" required>
                        </div>
                        <div class="mb-3">
                            <label for="fireNumber" class="form-label">Fire Department</label>
                            <input type="tel" class="form-control" id="fireNumber" required>
                        </div>
                        <div class="mb-3">
                            <label for="hospitalNumber" class="form-label">Nearest Hospital</label>
                            <input type="tel" class="form-control" id="hospitalNumber" required>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="saveContactsBtn">Save Contacts</button>
                </div>
            </div>
        </div>
    </div>
                <!-- Toast Notifications Container -->
                <div class="toast-container" id="toastContainer"></div>

                <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-database-compat.js"></script>
    <script src="js/dashboard.js"></script>
</body>
</html>